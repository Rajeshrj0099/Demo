<?php /* $Id: Add.tpl 3093 2007-09-24 21:09:45Z brian $ */ ?>
<?php //TemplateUtility::printHeader('Companies', array('modules/companies/validator.js', 'js/sweetTitles.js', 'js/listEditor.js',  'js/addressParser.js')); ?><?php //TemplateUtility::printHeaderBlock(); ?><?php //TemplateUtility::printTabs($this->active, $this->subActive); ?><?php TemplateUtility::printHeader('Companies', array('modules/companies/validator.js', 'js/addressParser.js','js/countries.js')); ?><table>    <tr>        <td width="3%">            <img src="images/companies.gif" width="24" height="24" border="0" alt="Companies" style="margin-top: 3px;" />&nbsp;        </td>        <td><h2>Companies: Add Location</h2></td>    </tr></table><p class="noteUnsized" style="margin-top: 5px;">Add Location</p><script type="text/javascript">    var typeOfAdd="new";</script>			<form name="addCompanyForm" id="addCompanyForm" action="<?php echo(CATSUtility::getIndexName()); ?>?m=companies&amp;a=addCompanyLocation" method="post" onsubmit="" autocomplete="off">                <input type="hidden" name="postback" id="postback" value="postback" />                <input type="hidden" name="companyID" value="<?php echo($this->companyID); ?>" />                <input type="hidden" name="locationID" value="<?php echo($this->locationID); ?>" />                <input type="hidden" name="operation" value="<?php echo($this->operation); ?>" />                                <table class="editTable" width="100%">                                  <tr>                        <td class="tdVertical">                            <label id="addressLabel" for="address">Address:</label>                        </td>                        <td class="tdData">                            <textarea tabindex="9" name="address" id="address" rows="4" cols="40" class="inputbox" style="width: 150px"><?php if(isset($this->data['address'])) $this->_($this->data['address']);?></textarea>                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="images/indicator2.gif" id="addressParserIndicator" alt="" style="visibility: hidden; margin-left: 10px;" height="16" width="16" />                        </td>                    </tr>                    <tr>                        <td class="tdVertical">                            <label id="CountryLabel" for="state">Country:</label>                        </td>                        <td class="tdData"><select  tabindex="11"  style="width: 150px"  onchange="print_state('state',this.selectedIndex);"                         id="country" class="inputbox"  name ="country"></select>                                                    </td>                    </tr>                    <tr>                        <td class="tdVertical">                            <label id="stateLabel" for="state">State:</label>                        </td>                        <td class="tdData">                                                	<select  tabindex="11" name ="state" id ="state"  class="inputbox" ></select>&nbsp;*                            <!--input type="text" tabindex="12" name="state1" id="state1" class="inputbox" style="width: 150px" value="<?php if(isset($this->preassignedFields['state'])) $this->_($this->preassignedFields['state']); ?>" /-->                        </td>                    </tr>                    <tr>                        <td class="tdVertical">                            <label id="cityLabel" for="city">City:</label>                        </td>                        <td class="tdData">                            <input type="text" tabindex="12" name="city" id="city" class="inputbox" style="width: 150px" value="<?php if(isset($this->data['city'])) $this->_($this->data['city']); ?>" />&nbsp;*                        </td>                    </tr>                    <tr>                        <td class="tdVertical">                            <label id="zipLabel" for="zip">Zip Code:</label>                        </td>                        <td class="tdData">                            <input type="text" tabindex="13" name="zip" id="zip" class="inputbox" style="width: 150px" value="<?php if(isset($this->data['zip'])) $this->_($this->data['zip']); ?>" />&nbsp;                            <!--<input type="button" tabindex="92" onclick="CityState_populate('zip', 'ajaxIndicator');" value="Lookup" />-->                            <img src="images/indicator2.gif" alt="AJAX" id="ajaxIndicator" style="vertical-align: middle; visibility: hidden; margin-left: 5px;" />                        </td>                    </tr>                </table>				     				     <?php if(($this->operation)=='edit') : ?>				     <input type="submit" id="btnSubmit" class="button"  value="Edit Location" onclick="parentGoToURL('<?php echo(CATSUtility::getIndexName()); ?>?m=companies&amp;a=show&amp;companyID=<?php echo($this->companyID);?>');"/>&nbsp;				     <?php elseif(($this->operation)=='block') : ?>				     <input type="submit" id="btnSubmit" class="button"  value="Disable Location" onclick="parentGoToURL('<?php echo(CATSUtility::getIndexName()); ?>?m=companies&amp;a=show&amp;companyID=<?php echo($this->companyID);?>');"/>&nbsp;				     <?php elseif(($this->operation)=='unblock') : ?>				     <input type="submit" id="btnSubmit" class="button"  value="Enable Location" onclick="parentGoToURL('<?php echo(CATSUtility::getIndexName()); ?>?m=companies&amp;a=show&amp;companyID=<?php echo($this->companyID);?>');"/>&nbsp;				     <?php else : ?>					 <input type="submit" id="btnSubmit" class="button"  value="Add Location" onclick="parentGoToURL('<?php echo(CATSUtility::getIndexName()); ?>?m=companies&amp;a=show&amp;companyID=<?php echo($this->companyID);?>');"/>&nbsp;					 <?php endif ?>					 					 					 <input type="button" class="button" name="close" value="Close" onclick="parentHidePopWin();" />            </form><script language="javascript">function disableBtn(){	document.getElementById("btnSubmit").disabled = true;}function print_country1(country_id){	// given the id of the <select> tag as function argument, it inserts <option> tags	var option_str = document.getElementById(country_id);	option_str.length=0;	option_str.options[0] = new Option('Select Country','');	for (var i=0; i<country_arr.length; i++) {		option_str.options[option_str.length] = new Option(country_arr[i],country_arr[i]);				if(country_arr[i]=='<?php echo $this->data['country'];?>')			selectedIndex= i+1;	}	option_str.selectedIndex = 239;	print_state("state", 239);}function print_country(country_id){	// given the id of the <select> tag as function argument, it inserts <option> tags	var option_str = document.getElementById(country_id);	option_str.length=0;	option_str.options[0] = new Option('Select Country','');	var selectedIndex=0;	for (var i=0; i<country_arr.length; i++) {		option_str.options[option_str.length] = new Option(country_arr[i],country_arr[i]);		if(country_arr[i]=='<?php echo $this->data['country'];?>')			selectedIndex= i+1;	}	if(selectedIndex>0){		option_str.selectedIndex = selectedIndex;		print_state("state", selectedIndex);		}else{		option_str.selectedIndex = 239;		print_state("state", 239);	}	}function print_state(state_id, state_index=239){	var option_str = document.getElementById(state_id);		option_str.length=0;	// Fixed by Julian Woods	option_str.options[0] = new Option('Select State','');	option_str.selectedIndex = 0;	var state_arr = s_a[state_index].split("|");	for (var i=0; i<state_arr.length; i++) {		option_str.options[option_str.length] = new Option(state_arr[i],state_arr[i]);		if(state_arr[i]=='<?php echo $this->data['state'];?>')		option_str.selectedIndex = i+1;	} 	}function print_state1(state_id, state_index=239){	var option_str = document.getElementById(state_id);		option_str.length=0;	// Fixed by Julian Woods	option_str.options[0] = new Option('Select State','');	option_str.selectedIndex = 0;	var state_arr = s_a[state_index].split("|");	for (var i=0; i<state_arr.length; i++) {		option_str.options[option_str.length] = new Option(state_arr[i],state_arr[i]);	}	}print_country("country");</script>	<script type="text/javascript">    //document.addCompanyForm.name.focus();</script>
            </body></html>    

